version: '3.9'

services:
  admin-ui:
    build: .
    container_name: admin-ui
    ports:
      - '3000:3000'
    environment:
      NODE_ENV: production
      NEXT_PUBLIC_TOPIC_ENGINE_URL: http://topic-engine:3001
      NEXT_PUBLIC_SCRIPT_ENGINE_URL: http://script-engine:3002
      NEXT_PUBLIC_VOICE_ENGINE_URL: http://voice-engine:3003
      NEXT_PUBLIC_MEDIA_ENGINE_URL: http://media-engine:3004
      NEXT_PUBLIC_ANALYTICS_ENGINE_URL: http://analytics-engine:3005
    restart: unless-stopped
    depends_on:
      - topic-engine
      - script-engine
      - voice-engine
      - media-engine
      - analytics-engine
